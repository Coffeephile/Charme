# Public Key Manager


--------------

@Login:


- remove passphrase from accessible code, use fastkey instead
-Private Infoshare
-Delete Post and Comments
- love/repost on status detail not working
- delete collections
1) key_getPrivateKEyring
2) update session passphrase with newest key_getPrivateKeyring (OK1)
3) Create keyring at sign up

	- Get public key from MY key directory (TODO)

5) Recrypt Public Key Directory when changing key
6) Public key verification
7) Private Infoshare
8) Notes



--------------





TODO:

random value to encrypt rsa key in session


Deleted from list
- notify people who are not in lists any more!

collection_update_audience:
	- Send a collection_remove to the old audience
	- Send a collection_add to the new audience with RSA encryped AES Key. (Maximal 50 People/List or All people in lists)
	----------------------
	list based encryption: Every list 	
	----------------------

Verifications of likes, comments etc:
Generate SHA256 with Salt, and write to verify collection.

Build public key cache

RSA decritipion in web worker
1) var id = div id
2) start webworker(encText, id)
3) oncomplete: add result to div (id)

Geospatial indexing, see bottom:
http://php.net/manual/en/mongocollection.ensureindex.php

Consitency:
- Update user name if:
	- get name_update command
	- open profile and name is different from saved name

Lists
- Option: Show in profile


Parallel Requests, like
var z = parralel_request2(aplrq1(){ z.firstDone=true; }, aplr12(){ z.secondone=true; }, completed(){});

Delegate Events:
http://stackoverflow.com/questions/8006458/backbone-js-how-to-perform-garbage-collection-on-parent-views-as-well-as-child
- subviews and views get more than one event registration!
http://stackoverflow.com/questions/11073877/delegateevents-in-backbone-js
http://stackoverflow.com/questions/5125958/backbone-js-views-delegateevents-do-not-get-bound-sometimes
http://stackoverflow.com/questions/10429648/backbone-js-how-to-unbind-from-events-on-model-remove

http://stackoverflow.com/questions/5125958/backbone-js-views-delegateevents-do-not-get-bound-sometimes

	Events are delegated to this.el when the view is initialized. So you need to:

	create the view by give the constructor the "el" option to specify the element
	define el, tag, id, classname on your view to create or find on the page your element directly.
	append your rendered view to the "el" element of the view
	make sure you do not replace the "el" element after the view creation



this.undelegateEvents(); in guest container!!
(Bug: goto welcome, sign in , welcome, sign in, welcome, then login -> multiple call of login())

Chrome Extension:

Bypass Same Origin Policy with manifest.json 


Pages:

backbone form validation!

Problems:

- subviews get more than one event registration!
- talk view: newmessage fired to often


About routing and events, and multiple occuring events:
http://lostechies.com/derickbailey/2011/09/15/zombies-run-managing-page-transitions-in-backbone-apps/
http://stackoverflow.com/questions/11073877/delegateevents-in-backbone-js
http://stackoverflow.com/questions/9080763/backbone-js-view-removing-and-unbinding

Templates with controls:
http://stackoverflow.com/questions/12452067/backbone-list-item-view-tag-controlled-by-template